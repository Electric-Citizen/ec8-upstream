/*SUPERFISH
*/
/*----------------------------------
   SUPERFISH:
 ----------------------------------*/   
/* GLOBAL COLORS
  ----------------- */
  .sf-main li{
    a{
      color: $link;
      &:hover,&:focus{
        color: $hover-link;
      }
    }
    &.active-trail > a{
      color: $black;
      &:hover,&:focus{
        color: $hover-link;
      }
    }
  }

    /* DESK FISH
  ---------------- */
  @include breakpoint ($deskmenu, true){
  
  .sf-main{

    %deskdrop{
      &.menuparent{
        & > ul{
          background: $white;
          border: 1px dotted $oc-warmgrey;
        }
      }
    }

    /* ====  sf main links ==== */
    &.sf-menu > li{
      & > a{
        color: $black;
        padding: 20px 15px !important;
        font-size: 20px;
        //shim for padding in header
        &:after{
        	content: '';
      		display: block;
      		position: absolute;
      		height: 10px;
      		width: 100%;
      		top: 100%;
      		left: 0;
        }
      }
      &.active-trail > a{
        color: $white;
      }
      &:hover,&:focus{
      	background: $white;
      	& > a{
      		color: $black;
      		&:after{	
      			background: $white;
      		}
      	}
      }
    }


    /* ====  sf main dropdown (multicolumn) ==== */
    & > li.sf-depth-1{
      &:last-of-type{
        margin-right: -10px;
      }

      // single and multi column main dropdown
      & > ul{
       background: $white;
       padding: 20px 0 0;
       border-left: 1px solid $oc-gold;
       border-right: 1px solid $oc-gold;
       border-bottom: 6px solid $oc-gold-60;
       & > li{ 
        padding: 0 0 20px;
       }
      }
      //something
      &:not(.justification){
      	& > ul{
      		margin-top: 10px;
      		& > li{
      			&:not(:last-of-type){
      				padding: 0;
      			}
      		}
      	}
      }
      &.justification{
      	& > ul{
      		right: 25px;
      	}
      }
    }//end main dropdown


    /* ====  Level 2 ==== */
    a.sf-depth-2{
      font-size: 20px;
      line-height: 1em;
      padding: 12px 20px;
    }
    .justification a.sf-depth-2{
      &.menuparent{
        //put menu parent differentiation here
        &:after{
        	content: none !important;
        }
      }
    }

    /* ==== TOGGLERS ==== */
    .sf-depth-2 {
    	a.menuparent{
    		&:after{
    			content: '';
    			display: inline-block;
            	background-image: url(../images/svg/desk-menu-toggler.svg);
            	background-color: transparent;
            	background-position: 0 0;
            	background-size: 100%;
            	padding: 0;
            	position: relative;
            	right: -10px;
            	@include opacity(1);
        	}
        	
    	}
    	//level 2 togglers only
    	& > a.menuparent{
    		&:after{
    			top: 4px;
    			height: 18px;
            	width: 18px;
    		}
    		&:hover{
            	&:after{
              		background-position: 0 18px;  
            	}
        	}
    	}
    	&.active-trail > a.menuparent{
    		&:after{
    			background-position: 0 -18px;
    		}
    		&:hover{
    			&:after{
    				background-position: 0 18px;
    			}
    		}
    	}
    } 

    /* ====  Level 3 ==== */
    li.sf-depth-2 li{
      font-size: 17px;
      line-height: 1em;
      @extend %deskdrop;
      & > a{
        padding-left: 40px;
        padding: 8px 20px 8px 40px;
        &.menuparent{
          padding: 8px 40px;
          //downsizing for all toggler 3 and below
          &:after{
          	height: 15px;
            width: 15px;
            top: 2px;
          }
          &:hover{
          	&:after{
          		background-position: 0 15px;
          	}
          }
        }
      }
      &.active-trail > a.menuparent{
      	&:after{
      		background-position: 0 -15px;
      	}
      	&:hover{
      		&:after{
      			background-position: 0 15px;
      		}
      	}
      }
  
    }//end a.level 3

    /* ====  Level 4 ==== */
    li.sf-depth-4{
      @extend %deskdrop;
    }


  }//end sf-main

  }//end desk fish




/* MOBILE FISH
----------------- */
/* ====  sf toggler ====*/
#superfish-main-toggle{
    color: $black;
    top: 25px;
    @include breakpoint (500px, true){
    	top: 17px;    	
    }
    @include breakpoint ($tab, true){
    	top: 10px;
    }
    &:before{
        font-size: 40px;
        top: -10px;
        right: 0;
        @include breakpoint ($tab, true){
        	font-size: 50px;
        }
    }
    &.sf-expanded,&:hover,&:focus{
        color: $white;
    }
}//end hamburger

@include breakpoint ($mobilemenu, true){
  	
    /* ====  sf main dropdown ====*/
    ul.sf-menu.sf-accordion.sf-expanded.sf-main{
      background: $white;
      border-bottom: 8px solid $oc-gold-60;
    }

    /* ====  global links ====*/
    ul.sf-menu a{
      padding: 20px 30px;
    }

    //parents, expanders & dropdowns
    ul.sf-menu.sf-accordion.sf-accordion-with-buttons li{
      & > .sf-accordion-button{
        //triangle expander
        &:after{
          background: url(../images/svg/menu-toggler.svg);
          background-position: 0 -3px;
          background-size: 100%;
          height: 18px;
          width: 18px;
        }
        &:hover{
          &:after{
            background-position: 0 -18px;
          }
        }
      }
      &.active-trail > .sf-accordion-button{
      	&:after{
      		background-position: 0 -36px;
      	}
      	&:hover:after{
      		background-position: 0 -18px;
      	}	
      }
      &.sf-expanded > .sf-accordion-button:after{
        background-position: 0 18px;
      }
    }//end accordion button

    .menuparent{
      a{
        &:not(.sf-accordion-button){
          @include calc(width, "100% - 60px");
        }
      }
    }//end menuparent

    ul.sf-menu.sf-accordion li.sf-expanded > ul{
      padding: 0 10px 10px;
    }


    /* ====  LEVEL 1  ====*/
    li.sf-depth-1{
      &:not(:last-child){
        border-bottom: 1px solid $oc-warmgrey;
      }
      &.sf-expanded{
        & > a{
          color: $hover-link;
          background: $oc-gold-10;
          border-bottom: 3px solid $oc-gold-60;
        }
      }
    }//end level 1


    /* ====  LEVEL 2  ====*/
    li.sf-depth-2{
      //inset level2 and those below
      & > a{
        padding: 10px 30px;
        &:not(.sf-accordion-button){
          padding: 10px 30px 10px 40px;
        }
      }
      //add some borders to inner level 2 dropdowns
      &:not(:only-of-type){
        &.sf-expanded{
          // border-top: 1px solid $pf-green-30;
          // border-bottom: 1px solid $pf-green-30;
        }
      }

    }//end level 2


    /* ====  LEVEL 3 & Below ====*/
    li.sf-depth-3{
      //font size for level 3 and those below
      a{
        font-size: 15px;
        padding: 10px 30px;
        &:not(.sf-accordion-button){
          padding: 10px 30px 10px 50px;
        }
      }
    }

  }//end mobile styles





